# "Picasso" is

CRM for tourist agency NoviNomad that manages tours, drivers and guides relations. Main functionality is to prevent
attach same drivers\guides to same tours and prevent time intersection between different tours. For example if one guide
was attached to the tour with period from 2022-01-01 to 2022-01-10 then system will not allow attach same guide to the
next tour, that has date interaction from 2022-01-05 to 2022-01-15 (intersection period 2022-01-05 to 2022-01-10)
because one person may take a part only in one tour at the same time.

# ERM

TODO: add ERM image

# Stack

- Java 17
- MySQL DB v. 8.0.29 (production)
- H2 DB (dev)
- Spring Boot v. 2.7.0
- Gradle v. 7.4.1
- Embedded Tomcat web server

# Mandatory environment variables

| Name               | Description                                              |
|--------------------|----------------------------------------------------------|
| PCS_SPRING_PROFILE | **dev** for local  or **prod** for production server.    |
| PCS_DB_PASSWORD    | password for DB user. Required only for production mode. |

# Start application

- Production: Create required environment variables. Build executable jar and run it. Application will be started as OS
  service in embedded tomcat.
- Local: Create required environment variables in run config. Press debug/run button in IntelliJ IDE

## Switches[](https://jsganttimproved.github.io/jsgantt-improved/Documentation.html#switches)

Many of the features of jsGanttImproved can be customised through the use of setter methods available on the GanttChart
object returned by a call to JSGantt.GanttChart() The following options take a single numeric parameter; a value of 1
will enable the describe functionality, 0 will disable it

Fork me on GitHub
Markdown Beautifier
Pretty-print and format your Markdown!

| Method                      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| setUseToolTip():            | Controls the display of tool tip boxes, defaults to 1 (enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| setUseFade():               | Controls use of the fade effect when showing/hiding tool tips, defaults to 1 (enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| setUseMove():               | Controls use of the sliding effect when changing between different task tool tips, defaults to 1 (enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| setUseRowHlt():             | Controls the use of row mouseover highlighting, defaults to 1 (enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| setUseSort():               | Controls whether the task list is sorted into parent task / start time order or is simply displayed in the order created, defaults to 1 (sort enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| setShowRes():               | Controls whether the Resource column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| setShowDur():               | Controls whether the Task Duration column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| setShowComp():              | Controls whether the Percentage Complete column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| setShowStartDate():         | Controls whether the Task Start Date column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| setShowEndDate():           | Controls whether the Task End Date column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| setShowPlanStartDate():     | Controls whether the Plan Task Start Date column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| setShowPlanEndDate():       | Controls whether the Task Plan End Date column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| setShowCost():              | Controls whether the Cost column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| setAdditionalHeaders():     | Set the object with additional headers to be displayed in the data table. ex : { category: { title: ‘Category’ } }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| setShowTaskInfoRes():       | Controls whether the Resource information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| setShowTaskInfoDur():       | Controls whether the Task Duration information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| setShowTaskInfoComp():      | Controls whether the Percentage Complete information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| setShowTaskInfoStartDate(): | Controls whether the Task Start Date information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| setShowTaskInfoEndDate():   | Controls whether the Task End Date information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| setShowTaskInfoLink():      | Controls whether the More Information link is displayed in the task tool tip, defaults to 0 (do NOT show link)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| setShowTaskInfoNotes():     | Controls whether the Additional Notes data is displayed in the task tool tip, defaults to 1 (show notes)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| setShowEndWeekDate():       | Controls whether the major heading in “Day” view displays the week end-date in the appropriate format (see below), defaults to 1 (show date)                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| setShowWeekends():          | Controls whether shows the weekend days in the Day view Format, defaults to 1 (show weekends)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| setShowDeps():              | Controls display of dependancy lines, defaults to 1 (show dependencies)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| setEvents():                | Controls events when a task is click in table data. You have to pass an object with the column and function. If the user click in the header, the event willbe triggered btu instead of the task will be a object about the header. ex.: ` vEvents: { taskname: console.log, res: console.log }                                                                                                                                                                                                                                                                                                                   |
| _setEventClickRow():_       | Controls events when a task row is clicked. Pass a function to execute ex.: vEventClickRow: function(e){console.log(e)}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| setEventClickCollapse():_   | Controls events when a group task is collapsed (open or close events). Pass a function to execute ex.: vEventClickCollapse: function(e){console.log(e)}                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| _setEventsChange():_        | Controls events when a task row is cliked. Pass a function to execute ex.: vEventsChange: { taskname: function(task, event, cell, column){ console.log(task, event, cell, column); } }                                                                                                                                                                                                                                                                                                                                                                                                                            |
| _setAdditionalHeaders:_     | Set object with headers values for additional columns . ex : { category: { title: ‘Category’ } }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| _setColumnOrder:_           | Set order of the columns that will be displayed, the default value is : [ ‘vShowRes’,’vShowDur’,’vShowComp’,’vShowStartDate’,’vShowEndDate’,’vShowPlanStartDate’,’vShowPlanEndDate’,’vShowCost’,’vAdditionalHeaders’,’vShowAddEntries’] }                                                                                                                                                                                                                                                                                                                                                                         |
| _setResources():_           | Set the list of possible resources, must be an array of objects, ex: [{ id: 1, name: ‘Mario’ } , { id: 2, name: ‘Henrique’ }]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| _setTotalHeight():_         | Set component height as CSS height (e.g. "300px"). If set - the header is fixed and content is scrollable if needed. Otherwise component height is defined by content                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| _setMinDate():_             | Set minimum date further than minimum task date. It doesn't trim any task if it starts before this minimum date, but can extend the chart to the left. This may be useful if you want to draw some custom elements on the chart or want to fix the time range regardless of the content                                                                                                                                                                                                                                                                                                                           |
| _setMaxDate():_             | Similar to _setMinDate()_                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| _setTooltipTemplate():_     | Set template for the tooltip. Can be <ul><li>*string* - just a static template</li><li>*function(task): string* - function returning template for a given task</li><li>*function(task): Promise&lt;string&gt;* - function returning promise resolving to string. Until promise is resolved tooltip shows tooltipLoading` from lang section</li></ul>In each case variables inside string are substituted (see example). If function is given and it returns undefined or null - default template is used (like if argument was not passed at all). Function argument is evaluated when tooltip needs to be shown. |
| setEditable():              | Set with true if you want to edit values in the data table, will show inputs instead of texts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| setDebug():                 | Set with true if you want to see debug in console                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Method                      | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| --------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------     |
| setUseToolTip():            | Controls the display of tool tip boxes, defaults to 1 (enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| setUseFade():               | Controls use of the fade effect when showing/hiding tool tips, defaults to 1 (enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| setUseMove():               | Controls use of the sliding effect when changing between different task tool tips, defaults to 1 (enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| setUseRowHlt():             | Controls the use of row mouseover highlighting, defaults to 1 (enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| setUseSort():               | Controls whether the task list is sorted into parent task / start time order or is simply displayed in the order created, defaults to 1 (sort enabled)                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| setShowRes():               | Controls whether the Resource column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| setShowDur():               | Controls whether the Task Duration column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| setShowComp():              | Controls whether the Percentage Complete column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| setShowStartDate():         | Controls whether the Task Start Date column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| setShowEndDate():           | Controls whether the Task End Date column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| setShowPlanStartDate():     | Controls whether the Plan Task Start Date column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| setShowPlanEndDate():       | Controls whether the Task Plan End Date column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| setShowCost():              | Controls whether the Cost column is displayed in the task list, defaults to 1 (show column)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| setAdditionalHeaders():     | Set the object with additional headers to be displayed in the data table. ex : { category: { title: ‘Category’ } }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| setShowTaskInfoRes():       | Controls whether the Resource information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| setShowTaskInfoDur():       | Controls whether the Task Duration information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| setShowTaskInfoComp():      | Controls whether the Percentage Complete information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| setShowTaskInfoStartDate(): | Controls whether the Task Start Date information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| setShowTaskInfoEndDate():   | Controls whether the Task End Date information is displayed in the task tool tip, defaults to 1 (show information)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| setShowTaskInfoLink():      | Controls whether the More Information link is displayed in the task tool tip, defaults to 0 (do NOT show link)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| setShowTaskInfoNotes():     | Controls whether the Additional Notes data is displayed in the task tool tip, defaults to 1 (show notes)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| setShowEndWeekDate():       | Controls whether the major heading in “Day” view displays the week end-date in the appropriate format (see below), defaults to 1 (show date)                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| setShowWeekends():          | Controls whether shows the weekend days in the Day view Format, defaults to 1 (show weekends)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| setShowDeps():              | Controls display of dependancy lines, defaults to 1 (show dependencies)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| setEvents():                | Controls events when a task is click in table data. You have to pass an object with the column and function. If the user click in the header, the event willbe triggered btu instead of the task will be a object about the header. ex.: \` vEvents: { taskname: console.log, res: console.log }                                                                                                                                                                                                                                                                                                                  |
| *setEventClickRow():*       | Controls events when a task row is clicked. Pass a function to execute ex.: vEventClickRow: function(e){console.log(e)}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| setEventClickCollapse():\_  | Controls events when a group task is collapsed (open or close events). Pass a function to execute ex.: vEventClickCollapse: function(e){console.log(e)}                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| *setEventsChange():*        | Controls events when a task row is cliked. Pass a function to execute ex.: vEventsChange: { taskname: function(task, event, cell, column){ console.log(task, event, cell, column); } }                                                                                                                                                                                                                                                                                                                                                                                                                            |
| *setAdditionalHeaders:*     | Set object with headers values for additional columns . ex : { category: { title: ‘Category’ } }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| *setColumnOrder:*           | Set order of the columns that will be displayed, the default value is : [ ‘vShowRes’,’vShowDur’,’vShowComp’,’vShowStartDate’,’vShowEndDate’,’vShowPlanStartDate’,’vShowPlanEndDate’,’vShowCost’,’vAdditionalHeaders’,’vShowAddEntries’] }                                                                                                                                                                                                                                                                                                                                                                         |
| *setResources():*           | Set the list of possible resources, must be an array of objects, ex: [{ id: 1, name: ‘Mario’ } , { id: 2, name: ‘Henrique’ }]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| *setTotalHeight():*         | Set component height as CSS height (e.g. "300px"). If set - the header is fixed and content is scrollable if needed. Otherwise component height is defined by content                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| *setMinDate():*             | Set minimum date further than minimum task date. It doesn't trim any task if it starts before this minimum date, but can extend the chart to the left. This may be useful if you want to draw some custom elements on the chart or want to fix the time range regardless of the content                                                                                                                                                                                                                                                                                                                           |
| *setMaxDate():*             | Similar to *setMinDate()*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| *setTooltipTemplate():*     | Set template for the tooltip. Can be                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
*string* - just a static template
*function(task): string* - function returning template for a given task
*function(task): Promise\* - function returning promise resolving to string. Until promise is resolved tooltip shows tooltipLoading\` from lang section
In each case variables inside string are substituted (see example). If function is given and it returns undefined or null - default template is used (like if argument was not passed at all). Function argument is evaluated when tooltip needs to be shown. |
| setEditable():              | Set with true if you want to edit values in the data table, will show inputs instead of texts                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| setDebug():                 | Set with true if you want to see debug in console                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |